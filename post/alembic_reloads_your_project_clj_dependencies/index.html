<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    <title>Pelure - Alembic Reloads your Leiningen project.clj Dependencies</title>
<meta name="keywords" content="repl,leiningen,nrepl,clojure,alembic">
<meta name="description" content="When working on a project, you sometime need to add a dependency.  Using Alembic you can add the dependency in your project.clj file, and then call alembic.still/load-project to load the dependency into a running repl, without loosing your repl state.">




    <link rel="stylesheet" 
      href="//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css"
      media="screen">
<link rel="stylesheet" href="/css/pelure.css">

    <link rel="stylesheet" href="/css/googlecode.css">
  </head>
  <body>
    <div class="container">
      <div class="row">
  <div class="col-0 col-sm-2 col-lg-2"></div>
  <div class="col-12 col-sm-8 col-lg-8">
    <div class="navbar">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/meta/pelure">Pelure</a>
    <div class="nav-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="/post">Posts</a></li>
        <li><a href="/tags">Tags</a></li>
      </ul>
      <ul class="nav navbar-nav pull-right">
        <li><a href="/meta/contact">Contact</a></li>
      </ul>
    </div>
    </div>
  </div>
</div>

      <div class="row"> 
  <div class="col-0 col-sm-2 col-lg-2"></div>
  <div id="top" class="col-12 col-sm-8 col-lg-8">

      <h1>Alembic Reloads your Leiningen project.clj Dependencies</h1>
      <p>You&rsquo;re working away in a Clojure REPL, when you realise you need to
add a dependency.  You add the dependency to your <a href="http://leiningen.org" title="Leiningen">leiningen</a>
<code>project.clj</code> file and then?  Instead of shutting down your REPL,
loosing whatever state you have built up, you can use
<a href="https://github.com/pallet/alembic#alembic" title="Alembic">Alembic</a> to load the new dependencies.  Simply call
<code>(alembic.still/load-project)</code>.</p>

<p>Of course, it still has to work within the confines of the JVM&rsquo;s
classloaders, so you can only add dependencies, and not modify
versions or remove dependencies, but this should still cover a lot of
use cases.</p>

<p>To use alembic on a single project, simply add it as a dependency in
your <code>:dev</code> profile in <code>project.clj</code>:</p>

<pre><code class="clj">:profiles {:dev {:dependencies [[alembic &quot;0.2.0&quot;]]}}
</code></pre>

<p>To make alembic available in all your projects, and it to the <code>:user</code>
profile in <code>~/.lein/profiles.clj</code> instead:</p>

<pre><code class="clj">{:user {:dependencies [[alembic &quot;0.2.0&quot;]]}}
</code></pre>

<p>Alembic also allows you to directly add dependencies without editing
your <code>project.clj</code> file, using the <code>distill</code> function.  Use this if you
are just exploring libraries, for example.</p>

<p>Finally a big thank you to <a href="http://blog.raynes.me/" title="Raynes">Anthony Grimes</a> and the other
<a href="https://github.com/flatland/" title="flatland">flatland</a> developers for removing classlojure&rsquo;s dependency
on <code>useful</code>, which should make this all much more robust.</p>

        </div>
</div>
<script src='http://www.google-analytics.com/ga.js' type='text/javascript'>
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3688366-1");
pageTracker._trackPageview();
} catch(err) {}</script>

    </div>
    <div class="row"> 
  <div class="col-0 col-sm-2 col-lg-2"></div>
  <div id="top" class="col-12 col-sm-8 col-lg-8">
     
<footer id="footer">
  <p class="pull-right"><a href="#top">Back to top</a></p>
</footer>
  </div>
</div>
<script src='http://www.google-analytics.com/ga.js' type='text/javascript'>
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3688366-1");
pageTracker._trackPageview();
} catch(err) {}</script>
     

    <script type="text/javascript" src="/js/highlight.pack.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </body>
</html>
